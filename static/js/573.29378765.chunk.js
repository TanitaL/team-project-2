"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[573],{3570:function(e,t,a){a(2791);var n=a(7704),s=a(184);t.Z=function(e){var t=e.children;return(0,s.jsx)("div",{className:n.Z.containerMain,children:t})}},854:function(e,t,a){var n=a(6286),s=a(184);t.Z=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{display:"grid",placeItems:"center",maxHeight:"100%",height:"100%"},children:(0,s.jsx)(n.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})})}},9375:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(9439),s=a(2791),r=a(184),c=function(e){var t=e.onSearch,a=(0,s.useState)(""),c=(0,n.Z)(a,2),i=c[0],o=c[1];return(0,r.jsxs)("form",{className:"search-component",onSubmit:function(e){e.preventDefault(),t(i)},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search",value:i,onChange:function(e){o(e.target.value)},className:"search-component__input"}),i&&(0,r.jsx)("button",{type:"button",onClick:function(){o("")},className:"search-component__clear-button",children:(0,r.jsx)("i",{className:"fas fa-times"})}),(0,r.jsx)("button",{type:"submit",className:"search-component__search-button",children:(0,r.jsx)("i",{className:"fas fa-search"})})]})}},2573:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var n=a(9439),s=a(2791),r=a(5264),c="NewsItems_textNoticesPage__iCfLh",i="NewsItems_item__xVHlD",o="NewsItems_image__txFt5",l="NewsItems_itemBox__f-yOY",u="NewsItems_title__3eSF+",h="NewsItems_text__EpVAn",d="NewsItems_itemWrapper__nLxV7",p="NewsItems_date__Z5aVz",m="NewsItems_link__vK+GI",f=a(7892),g=a.n(f),x=a(184),_=function(e){var t=e.title,a=e.body,r=e.date,c=e.image,f=e.url,_=g()(r).format("DD/MM/YYYY"),j=(0,s.useState)(!1),v=(0,n.Z)(j,2),N=v[0],w=v[1];return(0,x.jsxs)("li",{className:i,children:[(0,x.jsx)("img",{alt:t,loading:"lazy",className:o,src:N?"https://http.cat/407":c,onError:function(){w(!0)}}),(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("h2",{className:u,children:t}),(0,x.jsx)("p",{className:h,children:a}),(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)("p",{className:p,children:_}),(0,x.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:m,children:"Read more"})]})]})]})},j="NewsList_list__-2dt0",v=a(7704),N=function(e){var t=e.news;return(0,x.jsx)("ul",{className:"".concat(j," ").concat(v.Z.containerMain),children:t.map((function(e){var t=e.url,a=e.title,n=e.body,s=e.date,r=e.image;return(0,x.jsx)(_,{title:a,body:n,date:s,image:r,url:t,loading:"lazy"},t)}))})},w=a(9375),Z=a(5861),b=a(4687),y=a.n(b),S=a(1243);S.Z.defaults.baseURL="https://eventregistry.org/api/v1/article/getArticles";var k=function(){var e=(0,Z.Z)(y().mark((function e(t,a,n){var s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new URLSearchParams({action:"getArticles",keyword:t,articlesPage:a,articlesCount:n,articlesSortBy:"date",articlesSortByAsc:!1,articlesArticleBodyLen:99,resultType:"articles",dataType:["news"],lang:"eng",apiKey:"2da62d3c-4d43-49a3-b513-7097a7b6bb72"}),e.next=3,S.Z.get("/?".concat(s)).then((function(e){return{articles:e.data.articles.results,totalResults:e.data.articles.totalResults,pages:e.data.articles.pages}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),C=a(3570),I=a(854),L=a(1413),P=a(1133),M=a(5397),R=a(1333),A=a(5958),B=function(e){var t=e.currentPage,a=e.pages,r=e.handlePaginationChange,c=(0,s.useState)(t),i=(0,n.Z)(c,2),o=i[0],l=i[1];return(0,x.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,x.jsx)(R.Z,{page:o,onChange:function(e,t){l(t),r(t)},count:a,color:"primary",renderItem:function(e){return(0,x.jsx)(A.Z,(0,L.Z)({components:{previous:P.Z,next:M.Z}},e))}})})},E=function(){var e=(0,s.useState)([]),t=(0,n.Z)(e,2),a=t[0],i=t[1],o=(0,s.useState)(0),l=(0,n.Z)(o,2),u=l[0],h=l[1],d=(0,s.useState)(0),p=(0,n.Z)(d,2),m=p[0],f=p[1],g=(0,s.useState)("pet"),_=(0,n.Z)(g,2),j=_[0],v=_[1],Z=(0,s.useState)(1),b=(0,n.Z)(Z,2),y=b[0],S=b[1],L=(0,s.useState)(9),P=(0,n.Z)(L,1)[0],M=(0,s.useState)(!1),R=(0,n.Z)(M,2),A=R[0],E=R[1],Y=(0,s.useState)(""),D=(0,n.Z)(Y,2),F=D[0],V=D[1];(0,s.useEffect)((function(){try{E(!0),k(j,y,P).then((function(e){var t=e.articles,a=e.totalResults,n=e.pages;i(t),h(a),f(n)})),E(!1)}catch(F){V((function(e){return e.message}))}}),[j,y,P]);return console.log("page--\x3e",y),console.log("totalResults--\x3e",u),console.log("pages--\x3e",m),A?(0,x.jsx)(I.Z,{}):"404"===F?(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:"https://http.cat/407",alt:"Error 404"}),(0,x.jsx)("p",{children:"Oops! Something went wrong."})]}):(0,x.jsxs)(C.Z,{children:[(0,x.jsx)("h1",{className:c,children:"News"}),(0,x.jsx)(w.Z,{onSearch:function(e){if(""!==e.trim()){console.log("first");var t=e.toLowerCase();v(t)}else r.Notify.warning("Please, Enter the correct data for the search",{timeout:3e3,position:"center-top"})}}),(0,x.jsx)(N,{news:a}),(0,x.jsx)(B,{currentPage:y,pages:m,handlePaginationChange:function(e){S(e)}})]})}},7704:function(e,t){t.Z={containerMain:"Container_containerMain__yFMrH"}}}]);
//# sourceMappingURL=573.29378765.chunk.js.map