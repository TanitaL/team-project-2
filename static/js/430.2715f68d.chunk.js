"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[430],{3570:function(e,t,a){a(2791);var n=a(7704),r=a(184);t.Z=function(e){var t=e.children;return(0,r.jsx)("div",{className:n.Z.containerMain,children:t})}},9375:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(9439),r=a(2791),s=a(184),c=function(e){var t=e.onSearch,a=(0,r.useState)(""),c=(0,n.Z)(a,2),i=c[0],o=c[1];return(0,s.jsxs)("form",{className:"search-component",onSubmit:function(e){e.preventDefault(),t(i)},children:[(0,s.jsx)("input",{type:"text",placeholder:"Search",value:i,onChange:function(e){o(e.target.value)},className:"search-component__input"}),i&&(0,s.jsx)("button",{type:"button",onClick:function(){o("")},className:"search-component__clear-button",children:(0,s.jsx)("i",{className:"fas fa-times"})}),(0,s.jsx)("button",{type:"submit",className:"search-component__search-button",children:(0,s.jsx)("i",{className:"fas fa-search"})})]})}},4430:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var n=a(9439),r=a(2791),s=a(8212),c="NewsItems_textNoticesPage__iCfLh",i="NewsItems_item__xVHlD",o="NewsItems_image__txFt5",l="NewsItems_itemBox__f-yOY",u="NewsItems_title__3eSF+",d="NewsItems_text__EpVAn",m="NewsItems_itemWrapper__nLxV7",h="NewsItems_date__Z5aVz",f="NewsItems_link__vK+GI",p=a(7892),x=a.n(p),_=a(184),g=function(e){var t=e.title,a=e.body,s=e.date,c=e.image,p=e.url,g=x()(s).format("DD/MM/YYYY"),j=(0,r.useState)(!1),v=(0,n.Z)(j,2),N=v[0],w=v[1];return(0,_.jsxs)("li",{className:i,children:[(0,_.jsx)("img",{alt:t,loading:"lazy",className:o,src:N?"https://http.cat/407":c,onError:function(){w(!0)}}),(0,_.jsxs)("div",{className:l,children:[(0,_.jsx)("h2",{className:u,children:t}),(0,_.jsx)("p",{className:d,children:a}),(0,_.jsxs)("div",{className:m,children:[(0,_.jsx)("p",{className:h,children:g}),(0,_.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:f,children:"Read more"})]})]})]})},j="NewsList_list__-2dt0",v=a(7704),N=function(e){var t=e.news;return(0,_.jsx)("ul",{className:"".concat(j," ").concat(v.Z.containerMain),children:t.map((function(e){var t=e.url,a=e.title,n=e.body,r=e.date,s=e.image;return(0,_.jsx)(g,{title:a,body:n,date:r,image:s,url:t,loading:"lazy"},t)}))})},w=a(9375),Z=a(5861),b=a(4687),y=a.n(b),S=a(1243);S.Z.defaults.baseURL="https://eventregistry.org/api/v1/article/getArticles";var C=function(){var e=(0,Z.Z)(y().mark((function e(t,a,n){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({action:"getArticles",keyword:t,articlesPage:a,articlesCount:n,articlesSortBy:"date",articlesSortByAsc:!1,articlesArticleBodyLen:99,resultType:"articles",dataType:["news"],lang:"eng",apiKey:"2da62d3c-4d43-49a3-b513-7097a7b6bb72"}),e.next=3,S.Z.get("/?".concat(r)).then((function(e){return{articles:e.data.articles.results,totalResults:e.data.articles.totalResults,pages:e.data.articles.pages}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),I=a(3570),k=a(854),P=a(1413),F=a(1545),M=a(4818),A=a(7395),L=function(e){var t=e.currentPage,a=e.totalPages,n=e.handlePaginationChange;return(0,_.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,_.jsx)(M.Z,{page:t,onChange:function(e,t){n(t)},count:a>=99?99:a,variant:"outlined",size:"large",sx:{"Button.MuiPaginationItem-circular.Mui-selected":{bgcolor:"#54ADFF",color:"#fff",border:"1px solid #54ADFF"},button:{color:"#111111",backgroundColor:"#fff",border:"1px solid #54ADFF"}},renderItem:function(e){return(0,_.jsx)(A.Z,(0,P.Z)({components:{previous:F.a_L,next:F.Or2}},e))}})})},D=function(){var e=(0,r.useState)([]),t=(0,n.Z)(e,2),a=t[0],i=t[1],o=(0,r.useState)("pet"),l=(0,n.Z)(o,2),u=l[0],d=l[1],m=(0,r.useState)(1),h=(0,n.Z)(m,2),f=h[0],p=h[1],x=(0,r.useState)(9),g=(0,n.Z)(x,1)[0],j=(0,r.useState)(0),v=(0,n.Z)(j,2),Z=v[0],b=v[1],y=(0,r.useState)(!1),S=(0,n.Z)(y,2),P=S[0],F=S[1],M=(0,r.useState)(""),A=(0,n.Z)(M,2),D=A[0],B=A[1];(0,r.useEffect)((function(){try{F(!0),C(u,f,g).then((function(e){var t=e.articles,a=e.pages;i(t),b(a)})),F(!1)}catch(D){F(!1),B((function(e){return e.message}))}}),[u,f,g]);return"404"===D?(0,_.jsxs)("div",{children:[(0,_.jsx)("img",{src:"https://http.cat/407",alt:"Error 404"}),(0,_.jsx)("p",{children:"Oops! Something went wrong."})]}):(0,_.jsxs)(I.Z,{children:[(0,_.jsx)("h1",{className:c,children:"News"}),(0,_.jsx)(w.Z,{onSearch:function(e){if(""!==e.trim()){p(1);var t=e.toLowerCase();d(t)}else s.Z.error("Please, Enter the correct request")}}),P&&(0,_.jsx)(k.Z,{}),!P&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(N,{news:a}),(0,_.jsx)(L,{currentPage:f,totalPages:Z,handlePaginationChange:function(e){p(e)}})]})]})}},7704:function(e,t){t.Z={containerMain:"Container_containerMain__yFMrH"}}}]);
//# sourceMappingURL=430.2715f68d.chunk.js.map