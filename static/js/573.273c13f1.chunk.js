"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[573],{3570:function(e,t,a){a(2791);var n=a(7704),s=a(184);t.Z=function(e){var t=e.children;return(0,s.jsx)("div",{className:n.Z.containerMain,children:t})}},9375:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(9439),s=a(2791),r=a(184),c=function(e){var t=e.onSearch,a=(0,s.useState)(""),c=(0,n.Z)(a,2),i=c[0],o=c[1];return(0,r.jsxs)("form",{className:"search-component",onSubmit:function(e){e.preventDefault(),t(i)},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search",value:i,onChange:function(e){o(e.target.value)},className:"search-component__input"}),i&&(0,r.jsx)("button",{type:"button",onClick:function(){o("")},className:"search-component__clear-button",children:(0,r.jsx)("i",{className:"fas fa-times"})}),(0,r.jsx)("button",{type:"submit",className:"search-component__search-button",children:(0,r.jsx)("i",{className:"fas fa-search"})})]})}},2573:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var n=a(9439),s=a(2791),r=a(5264),c="NewsItems_textNoticesPage__iCfLh",i="NewsItems_item__xVHlD",o="NewsItems_image__txFt5",l="NewsItems_itemBox__f-yOY",u="NewsItems_title__3eSF+",m="NewsItems_text__EpVAn",h="NewsItems_itemWrapper__nLxV7",d="NewsItems_date__Z5aVz",p="NewsItems_link__vK+GI",f=a(7892),_=a.n(f),x=a(184),g=function(e){var t=e.title,a=e.body,r=e.date,c=e.image,f=e.url,g=_()(r).format("DD/MM/YYYY"),j=(0,s.useState)(!1),N=(0,n.Z)(j,2),v=N[0],w=N[1];return(0,x.jsxs)("li",{className:i,children:[(0,x.jsx)("img",{alt:t,loading:"lazy",className:o,src:v?"https://http.cat/407":c,onError:function(){w(!0)}}),(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("h2",{className:u,children:t}),(0,x.jsx)("p",{className:m,children:a}),(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("p",{className:d,children:g}),(0,x.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:p,children:"Read more"})]})]})]})},j="NewsList_list__-2dt0",N=a(7704),v=function(e){var t=e.news;return(0,x.jsx)("ul",{className:"".concat(j," ").concat(N.Z.containerMain),children:t.map((function(e){var t=e.url,a=e.title,n=e.body,s=e.date,r=e.image;return(0,x.jsx)(g,{title:a,body:n,date:s,image:r,url:t,loading:"lazy"},t)}))})},w=a(9375),Z=a(5861),y=a(4687),b=a.n(y),S=a(1243);S.Z.defaults.baseURL="https://eventregistry.org/api/v1/article/getArticles";var C=function(){var e=(0,Z.Z)(b().mark((function e(t,a,n){var s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new URLSearchParams({action:"getArticles",keyword:t,articlesPage:a,articlesCount:n,articlesSortBy:"date",articlesSortByAsc:!1,articlesArticleBodyLen:99,resultType:"articles",dataType:["news"],lang:"eng",apiKey:"2da62d3c-4d43-49a3-b513-7097a7b6bb72"}),e.next=3,S.Z.get("/?".concat(s)).then((function(e){return{articles:e.data.articles.results,totalResults:e.data.articles.totalResults,pages:e.data.articles.pages}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),I=a(3570),k=a(854),P=a(1413),L=a(1133),M=a(5397),A=a(1333),E=a(5958),R=function(e){var t=e.currentPage,a=e.totalPages,n=e.handlePaginationChange;return(0,x.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,x.jsx)(A.Z,{page:t,onChange:function(e,t){n(t)},count:a||99,color:"primary",renderItem:function(e){return(0,x.jsx)(E.Z,(0,P.Z)({components:{previous:L.Z,next:M.Z}},e))}})})},Y=function(){var e=(0,s.useState)([]),t=(0,n.Z)(e,2),a=t[0],i=t[1],o=(0,s.useState)(0),l=(0,n.Z)(o,2),u=l[0],m=l[1],h=(0,s.useState)("pet"),d=(0,n.Z)(h,2),p=d[0],f=d[1],_=(0,s.useState)(1),g=(0,n.Z)(_,2),j=g[0],N=g[1],Z=(0,s.useState)(9),y=(0,n.Z)(Z,1)[0],b=(0,s.useState)(!1),S=(0,n.Z)(b,2),P=S[0],L=S[1],M=(0,s.useState)(""),A=(0,n.Z)(M,2),E=A[0],Y=A[1];(0,s.useEffect)((function(){try{L(!0),C(p,j,y).then((function(e){var t=e.articles,a=e.pages;i(t),m(a)})),L(!1)}catch(E){L(!1),Y((function(e){return e.message}))}}),[p,j,y]);return"404"===E?(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:"https://http.cat/407",alt:"Error 404"}),(0,x.jsx)("p",{children:"Oops! Something went wrong."})]}):(0,x.jsxs)(I.Z,{children:[(0,x.jsx)("h1",{className:c,children:"News"}),(0,x.jsx)(w.Z,{onSearch:function(e){if(""!==e.trim()){N(1);var t=e.toLowerCase();f(t)}else r.Notify.warning("Please, Enter the correct data for the search",{timeout:3e3,position:"center-top"})}}),P&&(0,x.jsx)(k.Z,{}),!P&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v,{news:a}),(0,x.jsx)(R,{currentPage:j,totalPages:u,handlePaginationChange:function(e){N(e)}})]})]})}},7704:function(e,t){t.Z={containerMain:"Container_containerMain__yFMrH"}}}]);
//# sourceMappingURL=573.273c13f1.chunk.js.map