"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[110],{8988:function(e,t,r){r.d(t,{Z:function(){return s}});r(2791);var a="PawPrintBtn_btn__h7AhH",n=r(184),s=function(e){var t=e.title,r=e.type,s=e.handleSuccess;return(0,n.jsxs)("button",{onClick:null!==s&&void 0!==s?s:null,type:r,className:a,children:[t,(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",children:[(0,n.jsx)("g",{fill:"#FEF9F9",clipPath:"url(#a)",children:(0,n.jsx)("path",{d:"M15.361 14.361a5.82 5.82 0 0 0-3.322-4.518 5.82 5.82 0 0 0-5.596.36l-4.074 2.58a3.674 3.674 0 0 0-1.473 1.795 3.674 3.674 0 0 0-.113 2.32 3.674 3.674 0 0 0 1.294 1.93c.631.49 1.388.76 2.189.777l.052.001a7.271 7.271 0 0 1 5.24 2.467 3.678 3.678 0 0 0 2.002 1.177 3.674 3.674 0 0 0 2.31-.25 3.675 3.675 0 0 0 1.705-1.577c.388-.7.536-1.49.43-2.283l-.644-4.779Zm-2.074 7.359c-.927.422-2 .19-2.672-.575a8.66 8.66 0 0 0-2.85-2.135 8.662 8.662 0 0 0-3.467-.811h-.035A2.28 2.28 0 0 1 2.14 16.52a2.28 2.28 0 0 1 .982-2.55l4.075-2.58a4.418 4.418 0 0 1 4.249-.273 4.419 4.419 0 0 1 2.522 3.43l.643 4.78a2.28 2.28 0 0 1-1.323 2.392ZM4.721 9.395c.828.058 1.624-.26 2.244-.892.59-.603.948-1.426 1.01-2.318.06-.892-.182-1.757-.682-2.435-.527-.712-1.272-1.135-2.099-1.192-1.662-.115-3.12 1.325-3.252 3.21-.103 1.503.668 2.84 1.825 3.38.296.138.617.224.954.247Zm-1.375-3.53c.077-1.11.863-1.965 1.752-1.903.16.01.316.052.463.12.227.106.432.277.6.505.303.409.448.942.41 1.501-.039.56-.256 1.067-.612 1.43-.326.334-.731.502-1.14.474-.889-.061-1.55-1.015-1.473-2.126ZM10.641 8.647c1.762.821 3.957-.143 4.893-2.15.936-2.008.264-4.31-1.498-5.131-1.761-.822-3.956.143-4.892 2.15-.936 2.008-.264 4.31 1.497 5.13Zm2.801-6.006c1.059.493 1.425 1.956.817 3.261-.608 1.304-1.965 1.963-3.023 1.47-1.059-.494-1.425-1.957-.817-3.26.608-1.305 1.964-1.965 3.023-1.471ZM15.744 12.114c.229.216.485.388.76.516 1.285.6 2.974.248 4.122-.966.66-.7 1.05-1.582 1.097-2.487.05-.946-.278-1.803-.923-2.412-.644-.609-1.518-.888-2.46-.786-.901.098-1.76.537-2.421 1.236-1.394 1.475-1.472 3.672-.175 4.899ZM16.94 8.18c.432-.456.982-.741 1.55-.803.526-.057 1.003.088 1.343.41.34.32.512.788.484 1.316-.03.571-.283 1.137-.715 1.593-.86.911-2.159 1.088-2.893.394-.733-.693-.63-1.999.231-2.91ZM22.67 14.827c-.797-1.465-2.795-1.923-4.456-1.022-1.66.902-2.363 2.827-1.569 4.29.29.535.74.935 1.274 1.185.933.435 2.125.411 3.181-.162 1.66-.902 2.364-2.827 1.57-4.291Zm-2.24 3.055c-.98.531-2.124.326-2.548-.457-.425-.783.026-1.852 1.004-2.384.65-.353 1.372-.38 1.909-.13.271.126.496.324.639.587.424.783-.027 1.852-1.005 2.384Z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]})]})}},3910:function(e,t,r){r.d(t,{Z:function(){return i}});r(2791);var a=r(5985),n="BgContainer_bgContainer__Am6QV",s=r(184),i=function(e){var t=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:n,children:t}),(0,s.jsx)(a.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}},3570:function(e,t,r){r(2791);var a=r(7704),n=r(184);t.Z=function(e){var t=e.children;return(0,n.jsx)("div",{className:a.Z.containerMain,children:t})}},4089:function(e,t,r){r.r(t),r.d(t,{categoryObj:function(){return s},noticeCategories:function(){return n},petCategory:function(){return a}});var a=["your pet","sell","lost/found","in good hands"],n=Object.freeze({SELL:"sell",LOSTFOUND:"lost-found",FORFREE:"for-free",MYPET:"my-pet"}),s=Object.freeze({MYPET:{label:"your pet",value:"my-pet"},SELL:{label:"sell",value:"sell"},LOSTFOUND:{label:"lost/found",value:"lost-found"},FORFREE:{label:"in good hands",value:"for-free"}})},4110:function(e,t,r){r.r(t),r.d(t,{default:function(){return ne}});var a=r(2791),n=r(3910),s=r(1413),i=r(5861),l=r(9439),o=r(4687),c=r.n(o),d="ArrowLeftBtn_btn__OB0HU",p=r(8617),u=r(184),m=function(e){var t=e.title,r=e.type,a=e.handleBackClick;return(0,u.jsxs)("button",{type:r,className:d,onClick:a,children:[(0,u.jsx)(p.jTe,{color:"#54ADFF",size:"24px"}),(0,u.jsx)("span",{children:t})]})},x=r(8988),f=r(4089),h=r(5705),_=r(7689),g=r(1087),y={flex:"steps_flex__QOc5Y",wrapper:"steps_wrapper__gK9Bf steps_flex__QOc5Y",moreInfoWrapper:"steps_moreInfoWrapper__h6CtV steps_flex__QOc5Y",fieldContainer:"steps_fieldContainer__wP3YA",notMyPetfieldContainer:"steps_notMyPetfieldContainer__-cb0r",textInputsWrapper:"steps_textInputsWrapper__9Z9Uy",radioForm:"steps_radioForm__3NBPG",radioWrap:"steps_radioWrap__vNxNI steps_flex__QOc5Y",btn:"steps_btn__hljbh",inptWrapper:"steps_inptWrapper__fjTbG steps_flex__QOc5Y",lable:"steps_lable__N5lhM",input:"steps_input__9U+bH",inputError:"steps_inputError__wAqIL steps_input__9U+bH",error:"steps_error__eI2IT",genderWrapper:"steps_genderWrapper__1Y4wI",radioWrapper:"steps_radioWrapper__qClyB",gender:"steps_gender__zuW6e",genderText:"steps_genderText__4xk3f",iconMale:"steps_iconMale__7-OJo",addImgWrapper:"steps_addImgWrapper__-XQxJ",notMyPetaddImgWrapper:"steps_notMyPetaddImgWrapper__qT79E",addImgBtn:"steps_addImgBtn__4Xt2E",editIcon:"steps_editIcon__xKf5t",textarea:"steps_textarea__B8+il steps_input__9U+bH",btnWrapper:"steps_btnWrapper__vqFW2"},j=function(e){var t,r,n=e.data,s=e.next,i=(0,_.TH)(),l=(0,a.useRef)(null!==(t=null===(r=i.state)||void 0===r?void 0:r.from)&&void 0!==t?t:"/");return(0,u.jsx)(h.J9,{initialValues:n,onSubmit:function(e,t){s(e)},children:function(e){e.values;return(0,u.jsxs)(h.l0,{className:y.radioForm,children:[(0,u.jsx)("div",{className:y.radioWrap,role:"group","aria-labelledby":"my-radio-group",children:f.petCategory.map((function(e){var t="category-".concat(e);return(0,u.jsxs)("div",{children:[(0,u.jsx)(h.gN,{className:"visually-hidden",type:"radio",name:"category",value:e,id:t}),(0,u.jsx)("label",{htmlFor:t,className:y.btn,children:e},e)]},e)}))}),(0,u.jsxs)("div",{className:y.btnWrapper,children:[(0,u.jsx)(x.Z,{title:"Next",type:"submit"}),(0,u.jsx)(g.rU,{to:l.current,children:(0,u.jsx)(m,{title:"\u0421ancel",type:"button"})})]})]})}})},v="FormStepper_stepWrap__eX5uw",b="FormStepper_current__2rBgH FormStepper_step__fpxiW",N="FormStepper_compleated__iFqbc FormStepper_step__fpxiW",F="FormStepper_next__ucVtA FormStepper_step__fpxiW",C=function(e){var t=e.currentStep,r=e.steps;return(0,u.jsx)("div",{className:v,children:r.map((function(e,r){return(0,u.jsx)("div",{className:function(e,t){return"".concat(e<t?N:e===t?b:F)}(r,t),children:e.label},e.value)}))})},W=r(6727),Z=["your pet","sell","lost/found","in good hands"],P=["male","female"],S=["image/jpg","image/jpeg","image/png"],w=(W.Ry().shape({category:W.Z_().required("Category is required").oneOf(Z,"Invalid category selected"),first_name:W.Z_().required("first_name is required"),last_name:W.Z_().required("last_name is required")}),W.Ry().shape({title:W.Z_().min(4).max(32).test("titleRequired","Title is required for this category",(function(e){return!Z.includes(this.parent.category)||("your pet"===this.parent.category||!!e)})),name:W.Z_().min(2,"2 symbols minimum").max(16,"16 symbols maximum").required("Pet name is required"),date:W.hT().required("Birth date is required").nullable(),typePet:W.Z_().required("Type is required")})),I=W.Ry().shape({file:W.nK().required("File is required.").test("fileSize","File size must be less than 3MB.",(function(e){return!e||e&&e.size<=3145728})).test("FILE_FORMAT","Uplouded file has unsupported format",(function(e){return!e||e&&S.includes(null===e||void 0===e?void 0:e.type)})),sex:W.Z_().test("sexRequired","Sex is required.",(function(e){return!Z.includes(this.parent.category)||"your pet"===this.parent.category||P.includes(e)})),location:W.Z_().test("locationRequired","Location is required.",(function(e){return!Z.includes(this.parent.category)||("your pet"===this.parent.category||!!e)})),price:W.Rx().test("priceRequired","Price is required and must be greater than 0 for sell category.",(function(e){return"sell"!==this.parent.category||e>0})),comments:W.Z_().max(120,"Comments cannot exceed 120 characters.").required("Comments is required")}),M=r(9126),q=r(7692),k="PreviewImage_previewPetImg__+TfLd",T=r(6286),B=function(e){var t=e.file,r=e.width,n=e.height,s=(0,a.useState)(null),i=(0,l.Z)(s,2),o=i[0],c=i[1],d=new FileReader;return d.readAsDataURL(t),d.onload=function(){c(d.result)},(0,u.jsx)(u.Fragment,{children:o?(0,u.jsx)("img",{className:k,src:o,alt:o,width:r,height:n}):(0,u.jsx)(T.s5,{strokeColor:"#54ADFF",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})},O=function(e){var t=e.data,r=e.next,n=e.prev,s=(0,a.useRef)(null),i=function(e){n(e)};return(0,u.jsx)(h.J9,{initialValues:t,onSubmit:function(e,t){return function(e,t){r(e,!0,t)}(e,t)},validationSchema:I,children:function(e){var r=e.values,a=e.setFieldValue;return(0,u.jsxs)(h.l0,{className:y.moreInfoWrapper,children:[(0,u.jsxs)("div",{className:t.category===f.petCategory[0]?y.fieldContainer:y.notMyPetfieldContainer,children:[(0,u.jsxs)("div",{className:y.radioAndFileWrapper,children:[r.category!==f.petCategory[0]&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:y.genderWrapper,role:"group","aria-labelledby":"my-radio-group",children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"sex",children:"The Sex"}),(0,u.jsxs)("div",{className:y.radioWrapper,children:[(0,u.jsx)(h.gN,{className:"visually-hidden",type:"radio",name:"sex",value:"female",id:"female"}),(0,u.jsxs)("label",{htmlFor:"female",className:y.gender,children:["female"===r.sex?(0,u.jsx)(M.c1L,{color:"#FFFFFF",size:"24px"}):(0,u.jsx)(M.c1L,{color:"#F43F5E",size:"24px"}),(0,u.jsx)("span",{className:y.genderText,children:"Female"})]}),(0,u.jsx)(h.gN,{className:"visually-hidden",type:"radio",name:"sex",value:"male",id:"male"}),(0,u.jsxs)("label",{htmlFor:"male",className:y.gender,children:["male"===r.sex?(0,u.jsx)(M.SxU,{color:"#FFFFFF",size:"24px",className:y.iconMale}):(0,u.jsx)(M.SxU,{color:"#54ADFF",size:"24px",className:y.iconMale}),(0,u.jsx)("span",{className:y.genderText,children:"Male"})]})]}),(0,u.jsx)(h.Bc,{className:y.error,name:"sex",component:"div"})]})}),(0,u.jsxs)("div",{className:t.category===f.petCategory[0]?y.myPetInfoWrap:y.infoWrap,children:[(0,u.jsxs)("div",{className:t.category===f.petCategory[0]?y.addImgWrapper:y.notMyPetaddImgWrapper,children:[(0,u.jsx)("input",{ref:s,hidden:!0,type:"file",onChange:function(e){a("file",e.target.files[0])}}),(0,u.jsx)("label",{className:y.lable,children:"Add photo"}),(0,u.jsxs)("button",{className:y.addImgBtn,type:"button",onClick:function(){s.current.click()},children:[!r.file&&(0,u.jsx)(M.B8K,{color:"#54ADFF",size:"30px"}),r.file&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(B,{file:r.file,width:"112",height:"112"}),(0,u.jsx)(q.vpV,{color:"#54ADFF",className:y.editIcon,size:"30px"})]})]})]}),(0,u.jsx)(h.Bc,{className:y.error,name:"file",component:"div"})]})]}),(0,u.jsxs)("div",{className:y.textInputsWrapper,children:[r.category!==f.petCategory[0]&&(0,u.jsxs)("div",{className:y.inptWrapper,children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"location",children:"Location"}),(0,u.jsx)(h.gN,{className:y.input,name:"location"}),(0,u.jsx)(h.Bc,{className:y.error,name:"location",component:"div"})]}),r.category===f.petCategory[1]&&(0,u.jsxs)("div",{className:y.inptWrapper,children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"price",children:"Price"}),(0,u.jsx)(h.gN,{className:y.input,name:"price",type:"number"}),(0,u.jsx)(h.Bc,{className:y.error,name:"price",component:"div"})]}),(0,u.jsxs)("div",{className:y.inptWrapper,children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"comments",children:"Comments"}),(0,u.jsx)(h.gN,{className:y.textarea,name:"comments",as:"textarea"}),(0,u.jsx)(h.Bc,{className:y.error,name:"comments",component:"div"})]})]})]}),(0,u.jsxs)("div",{className:y.btnWrapper,children:[(0,u.jsx)(x.Z,{title:"Done",type:"submit"}),(0,u.jsx)(m,{title:"Back",type:"button",handleBackClick:i})]})]})}})},A=function(e){var t=Object.assign({},e),r=(0,h.U$)(t),a=(0,l.Z)(r,2),n=a[0],i=a[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",(0,s.Z)((0,s.Z)({className:i.touched&&i.error?y.inputError:y.input},n),t)),(0,u.jsx)(h.Bc,{component:"div",name:n.name,className:y.error})]})},E=function(e){var t=e.data,r=e.next,a=e.prev,n=function(e){a(e)};return(0,u.jsx)(h.J9,{initialValues:t,onSubmit:function(e){r(e)},validationSchema:w,children:function(e){var t=e.values;e.setFieldValue,e.touched,e.errors;return(0,u.jsxs)(h.l0,{className:y.wrapper,children:[t.category!==f.petCategory[0]&&(0,u.jsxs)("div",{className:y.inptWrapper,children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"title",children:"Title of add"}),(0,u.jsx)(A,{placeholder:"Title of add",name:"title",id:"title",type:"text"})]}),(0,u.jsxs)("div",{className:y.inptWrapper,children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"name",children:"Pet\u2019s name"}),(0,u.jsx)(A,{placeholder:"Type name pet",name:"name",id:"name",type:"text"})]}),(0,u.jsxs)("div",{className:y.inptWrapper,children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"date",children:"Date of birth"}),(0,u.jsx)(h.gN,{className:y.input,name:"date",type:"date",placeholder:"Type date of birth"}),(0,u.jsx)(h.Bc,{className:y.error,name:"date",component:"div"})]}),(0,u.jsxs)("div",{className:y.inptWrapper,children:[(0,u.jsx)("label",{className:y.lable,htmlFor:"typePet",children:"Type"}),(0,u.jsx)(A,{placeholder:"Type of pet",name:"typePet",id:"typePet",type:"text"})]}),(0,u.jsxs)("div",{className:y.btnWrapper,children:[(0,u.jsx)(x.Z,{title:"Next",type:"submit"}),(0,u.jsx)(m,{title:"Back",type:"button",handleBackClick:n})]})]})}})},R="AddPetForm_title__E715S",L="AddPetForm_section__SiRf+",D="AddPetForm_notMyPetstep3Section__I4SqN",z=r(9434),U=r(7758),V=[{label:"Choose option",value:"choose_option"},{label:"Personal details",value:"personal_details"},{label:"More info",value:"more_info"}],Y=r(1113),H=r(4164),Q="Loader_overlay__Epsxw";var J=function(e){var t=e.strokeColor,r=void 0===t?"#54ADFF":t;return(0,H.createPortal)((0,u.jsx)("div",{className:Q,children:(0,u.jsx)(T.s5,{strokeColor:r,strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})}),document.body)},K=r(7762),X=r(6724).default,G=r(7020).default,$=function(e){var t=G(e),r=X(t),a=new FormData;for(var n in r)a.append(n,r[n]);var s,i=(0,K.Z)(a.entries());try{for(i.s();!(s=i.n()).done;){var l=s.value;console.log(l[0],l[1])}}catch(o){i.e(o)}finally{i.f()}return a},ee={category:"your pet",title:"",name:"",date:"",sex:"",file:null,location:"",price:"",typePet:"",comments:""},te=f.categoryObj.MYPET,re=function(){var e=(0,a.useState)(ee),t=(0,l.Z)(e,2),r=t[0],n=t[1],o=(0,a.useState)(0),d=(0,l.Z)(o,2),p=d[0],m=d[1],x=(0,z.I0)(),h=(0,_.s0)(),g=(0,z.v9)(Y.Vc),y=(0,z.v9)(Y.d9);(0,a.useEffect)((function(){y&&(r.category===te.label&&h("/user"),r.category!==te.label&&h("/notices"))}),[r.category,y,h]);var v=function(){var e=(0,i.Z)(c().mark((function e(t){var r,a,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],i.length>2?i[2]:void 0,n((function(e){return(0,s.Z)((0,s.Z)({},e),t)})),!r){e.next=7;break}return a=$(t),x((0,U.Ns)(a)),e.abrupt("return");case 7:m((function(e){return e+1}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){n((function(t){return(0,s.Z)((0,s.Z)({},t),e)})),m((function(e){return e-1}))},N=[(0,u.jsx)(j,{next:v,data:r}),(0,u.jsx)(E,{next:v,data:r,prev:b}),(0,u.jsx)(O,{next:v,data:r,prev:b})];return console.log("\ud83d\ude80 ~ handleNextStep ~ data:",r.date),console.log("\ud83d\ude80 ~ handleNextStep ~ typeof(data.date):",typeof r.date),(0,u.jsxs)("section",{className:2===p&&r.category!==f.petCategory[0]?D:L,children:[g&&(0,u.jsx)(J,{}),(0===p||r.category===f.petCategory[0])&&(0,u.jsx)("h1",{className:R,children:"Add pet"}),0!==p&&r.category===f.petCategory[1]&&(0,u.jsx)("h1",{className:R,children:"Add pet for sale"}),0!==p&&r.category===f.petCategory[2]&&(0,u.jsx)("h1",{className:R,children:"Add lost pet"}),0!==p&&r.category===f.petCategory[3]&&(0,u.jsx)("h1",{className:R,children:"Add pet in good hands"}),(0,u.jsx)(C,{currentStep:p,steps:V}),N[p]]})},ae=r(3570);var ne=function(){return(0,u.jsx)(n.Z,{children:(0,u.jsx)(ae.Z,{children:(0,u.jsx)(re,{})})})}},1113:function(e,t,r){r.d(t,{Vc:function(){return s},by:function(){return i},d9:function(){return l},p2:function(){return a},zp:function(){return n}});var a=function(e){return e.pets.items},n=function(e){return e.pets.totalResult},s=function(e){return e.pets.isLoading},i=function(e){return e.pets.error},l=function(e){return e.pets.isNavigate}},6724:function(e,t,r){r.r(t);t.default=function(e){var t={category:e.category,name:e.name,type:e.type,file:e.file,comments:e.comments};return e.title&&(t.title=e.title),e.date&&(t.date=e.date),e.sex&&(t.sex=e.sex),e.location&&(t.location=e.location),e.price&&(t.price=e.price),e.comments&&(t.comments=e.comments),t}},7020:function(e,t,r){r.r(t);var a=r(4089),n=a.petCategory,s=a.noticeCategories,i=s.LOSTFOUND,l=s.FORFREE,o=s.MYPET;t.default=function(e){var t=e.category,r=e.title,a=e.name,s=e.date,c=e.sex,d=e.file,p=e.location,u=e.price,m=e.typePet,x=e.comments;switch(t){case n[0]:t=o;break;case n[2]:t=i;break;case n[3]:t=l}return s=new Date(e.date).toISOString(),console.log("\ud83d\ude80 ~ transformFormData ~ date:",s),{category:t,title:r,name:a,date:s,sex:c,file:d,location:p,price:u,type:m,comments:x}}},7704:function(e,t){t.Z={containerMain:"Container_containerMain__yFMrH"}}}]);
//# sourceMappingURL=110.90fad8c4.chunk.js.map